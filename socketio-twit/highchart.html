<!DOCTYPE html>
<html lang="en">
 
 <head>
     <meta charset="UTF-8">
         <title>Highcharts</title>
         </head>
          
          <body>
          <div style="width:80%;margin:auto;">
          <div id="hc_container" style="min-width: 310px; height: 400px; margin: 0 auto"></div> 
          </div>
          <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
          <div id="container2" style="min-width: 310px; height: 400px;  margin: 0 auto"></div>
          <div id="container3"></div>

          <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
          <script src="https://code.highcharts.com/highcharts.js"></script>
          <script src="https://code.highcharts.com/modules/streamgraph.js"></script>
          <script src="https://code.highcharts.com/modules/series-label.js"></script>
          <script src="https://code.highcharts.com/modules/annotations.js"></script>
          <script src="https://code.highcharts.com/modules/exporting.js"></script>
          <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
          <script type="text/javascript">

          $(function () {
                  function fetchData () {
                              // ajax api
                                      axios.get('http://www.mocky.io/v2/5b4ee6cf320000f7169c2b54') //มาจาก เว็บ mocky เอา json ไปแปลงเป็น ลิงค์
                                              .then(function (response) {
                                                              console.log(response.data)
                                                                          var arr={data: [
                                                                                          { 
                                                                                                                  "name": "followers",
                                                                                                                                      "data": response.data.followers
                                                                                                                                                      },
                                                                                                                                                                      {
                                                                                                                                                                                              "name": "friends",
                                                                                                                                                                                                                  "data": response.data.friends
                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                          "name": "listed",
                                                                                                                                                                                                                                                                                              "data": response.data.listed
                                                                                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                      "name": "favourites",
                                                                                                                                                                                                                                                                                                                                                                          "data": response.data.favourites
                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                      ]}
                                                                                                                                                                                                                                                                                                                                                                                                                  // handle success
                                                                                                                                                                                                                                                                                                                                                                                                                              //let result = makeChartData(response.data) //.data ใน json
                                                                                                                                                                                                                                                                                                                                                                                                                                          barChartInit(arr.data,response.data.name); // เอาค่า repose มาใส่ พารามิเตอร์ barChartInit(data, categories)
                                                                                                                                                                                                                                                                                                                                                                                                                                                      console.log(arr.data)

                                                                                                                                                                                                                                                                                                                                                                                                                                                              })
                                                      .catch(function (error) {
                                                                      // handle error
                                                                                  console.log(error);
                                                                                          })
                                                          }
                                                              fetchData()

                                                                  /*function makeChartData(raw) {
                                                                              return {
                                                                                              categories:,
                                                                                                          data: raw.data
                                                                                                                  }
                                                                                                                      }*/

                                                                                                                          function barChartInit(data,categories) {
                                                                                                                                      $('#hc_container').highcharts({  //highchart 1
                                                                                                                                                  chart: {
                                                                                                                                                                      type: 'column'
                                                                                                                                                                                  },
                                                                                                                                                                                              title: {
                                                                                                                                                                                                                  text: 'Friend Count of User from Twitter'
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                                          subtitle: {
                                                                                                                                                                                                                                                              text: 'by Hint'
                                                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                                                                      xAxis: {
                                                                                                                                                                                                                                                                                                          categories: categories, //เรียก พารามิเตอร์ categoties
                                                                                                                                                                                                                                                                                                                          crosshair: true
                                                                                                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                                                                                                                  yAxis: {
                                                                                                                                                                                                                                                                                                                                                                      min: 0,
                                                                                                                                                                                                                                                                                                                                                                                      title: {
                                                                                                                                                                                                                                                                                                                                                                                                              text: 'Friend Count (Person)'
                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                                                                                                                                                                                                                                      tooltip: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              '<td style="padding:0"><b>{point.y} person</b></td></tr>',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              footerFormat: '</table>',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              shared: true,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              useHTML: true
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      plotOptions: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          column: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  pointPadding: 0.2,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      borderWidth: 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              series: data //เรียก พารามิเตอร์ data
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      });
                                                                                                                                              Highcharts.chart('container', {   //highchart 2
                                                                                                                                                           chart: {
                                                                                                                                                                               type: 'line'
                                                                                                                                                                                            },
                                                                                                                                                                                                        title: {
                                                                                                                                                                                                                            text: 'Friend Count of User from Twitter'
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                    subtitle: {
                                                                                                                                                                                                                                                                        text: 'by Hint'
                                                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                                                                                xAxis: {
                                                                                                                                                                                                                                                                                                                     categories: categories
                                                                                                                                                                                                                                                                                                                                 },
                                                                                                                                                                                                                                                                                                                                              yAxis: {
                                                                                                                                                                                                                                                                                                                                                                  title: {
                                                                                                                                                                                                                                                                                                                                                                                          text: 'Friend Count (Person)'
                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                                                                                                                                                                                                  plotOptions: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                      line: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          dataLabels: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              enabled: true
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          enableMouseTracking: false
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   series: data
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           });

                                                                                                                                                  Highcharts.chart('container2', { //highchart3
                                                                                                                                                      chart: {
                                                                                                                                                                  type: 'area'
                                                                                                                                                                      },
                                                                                                                                                                          title: {
                                                                                                                                                                                      text: 'Friend Count of User from Twitter'
                                                                                                                                                                                          },
                                                                                                                                                                                              subtitle: {
                                                                                                                                                                                                          text: 'by hint'
                                                                                                                                                                                                              },
                                                                                                                                                                                                                  xAxis: {
                                                                                                                                                                                                                              categories: categories,
                                                                                                                                                                                                                                      tickmarkPlacement: 'on',
                                                                                                                                                                                                                                              title: {
                                                                                                                                                                                                                                                              enabled: false
                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                                                              yAxis: {
                                                                                                                                                                                                                                                                                          title: {
                                                                                                                                                                                                                                                                                                          text: 'Friend Count (Person)'
                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                                                                                          tooltip: {
                                                                                                                                                                                                                                                                                                                                      pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} person)<br/>',
                                                                                                                                                                                                                                                                                                                                              split: true
                                                                                                                                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                                                                                                                                                      plotOptions: {
                                                                                                                                                                                                                                                                                                                                                                  area: {
                                                                                                                                                                                                                                                                                                                                                                                  stacking: 'percent',
                                                                                                                                                                                                                                                                                                                                                                                              lineColor: '#ffffff',
                                                                                                                                                                                                                                                                                                                                                                                                          lineWidth: 1,
                                                                                                                                                                                                                                                                                                                                                                                                                      marker: {
                                                                                                                                                                                                                                                                                                                                                                                                                                          lineWidth: 1,
                                                                                                                                                                                                                                                                                                                                                                                                                                                          lineColor: '#ffffff'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      series: data
                                                                                                                                                  });
                                                                                                                                                      var colors = Highcharts.getOptions().colors;
                                                                                                                                                      Highcharts.chart('container3', {

                                                                                                                                                              chart: {
                                                                                                                                                                          type: 'streamgraph',
                                                                                                                                                                                  marginBottom: 30,
                                                                                                                                                                                          zoomType: 'x'
                                                                                                                                                                                              },

                                                                                                                                                                                                  // Make sure connected countries have similar colors
                                                                                                                                                                                                      colors: [
                                                                                                                                                                                                              colors[0],
                                                                                                                                                                                                                      colors[1],
                                                                                                                                                                                                                              colors[2],
                                                                                                                                                                                                                                      colors[3],
                                                                                                                                                                                                                                              colors[4],
                                                                                                                                                                                                                                                      // East Germany, West Germany and Germany
                                                                                                                                                                                                                                                              Highcharts.color(colors[5]).brighten(0.2).get(),
                                                                                                                                                                                                                                                                      Highcharts.color(colors[5]).brighten(0.1).get(),

                                                                                                                                                                                                                                                                              colors[5],
                                                                                                                                                                                                                                                                                      colors[6],
                                                                                                                                                                                                                                                                                              colors[7],
                                                                                                                                                                                                                                                                                                      colors[8],
                                                                                                                                                                                                                                                                                                              colors[9],
                                                                                                                                                                                                                                                                                                                      colors[0],
                                                                                                                                                                                                                                                                                                                              colors[1],
                                                                                                                                                                                                                                                                                                                                      colors[3],
                                                                                                                                                                                                                                                                                                                                              // Soviet Union, Russia
                                                                                                                                                                                                                                                                                                                                                      Highcharts.color(colors[2]).brighten(-0.1).get(),
                                                                                                                                                                                                                                                                                                                                                              Highcharts.color(colors[2]).brighten(-0.2).get(),
                                                                                                                                                                                                                                                                                                                                                                      Highcharts.color(colors[2]).brighten(-0.3).get()
                                                                                                                                                                                                                                                                                                                                                                          ],

                                                                                                                                                                                                                                                                                                                                                                              title: {
                                                                                                                                                                                                                                                                                                                                                                                          floating: true,
                                                                                                                                                                                                                                                                                                                                                                                                  align: 'left',
                                                                                                                                                                                                                                                                                                                                                                                                          text: 'Friend Count of User from Twitter'
                                                                                                                                                                                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                                                                                                                                                                                                                  subtitle: {
                                                                                                                                                                                                                                                                                                                                                                                                                              floating: true,
                                                                                                                                                                                                                                                                                                                                                                                                                                      align: 'left',
                                                                                                                                                                                                                                                                                                                                                                                                                                              y: 30,
                                                                                                                                                                                                                                                                                                                                                                                                                                                      text: 'by hint'
                                                                                                                                                                                                                                                                                                                                                                                                                                                          },

                                                                                                                                                                                                                                                                                                                                                                                                                                                              xAxis: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          maxPadding: 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  type: 'category',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          crosshair: true,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  categories: categories,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          labels: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          align: 'left',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      reserveSpace: false,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  rotation: 270
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  lineWidth: 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          margin: 20,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  tickWidth: 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      },

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          yAxis: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      visible: false,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              startOnTick: false,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      endOnTick: false
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          },

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              legend: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          enabled: false
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  plotOptions: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              series: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              label: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  minFontSize: 5,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  maxFontSize: 15,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  style: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          color: 'rgba(255,255,255,0.75)'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  },

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // Data parsed with olympic-medals.node.js
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          series: data,

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              exporting: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          sourceWidth: 800,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  sourceHeight: 600
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }

                                                                                                                                                      });

                                                                                                                                                          }
          });
          </script>
          </body>
          </html>

